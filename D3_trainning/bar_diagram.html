<!DOCTYPE html>
<html>
	<head>
		<title>My first Graph!!!</title>
		<script type="text/javascript" src="d3/d3.js"></script>
		<script src="http://d3js.org/d3.v3.min.js"></script>
		<script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>
		<style>
			div.bar {
				display: inline-block;
				width: 20px;
				height: 75px;
				background-color: teal;
				margin-right: 1px;
			}
			.axis path,
			.axis line {
			  fill: none;
			  stroke: #000;
			  shape-rendering: crispEdges;
			}

			.bar {
			  fill: orange;
			}

			.bar:hover {
			  fill: orangered ;
			}

			.x.axis path {
			  display: none;
			}
		</style>
	</head>
	<body>
		
		<script type="text/javascript">
			var margin = {top: 40, right: 20, bottom: 30, left: 40},
    		w = 960 - margin.left - margin.right,
    		h = 500 - margin.top - margin.bottom;

			var dataset = [ 5, 10, 13, 19, 21, 25, 22, 18, 15, 13,
            11, 12, 15, 20, 18, 17, 16, 18, 23, 25, 30 ];

            var frequency = [ 0.05, 0.10, 0.13, 0.19, 0.21, 0.25, 0.22, 0.18, 0.15, 0.13,
            0.11, 0.12, 0.15, 0.20, 0.18, 0.17, 0.16, 0.18, 0.23, 0.25, 0.30 ];

            var letter = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U"];
           
            var barPadding=1
            var svg=d3.select("body").append("svg").attr("width", w).attr("height", h);

            var formatPercent = d3.format(".0%");

			var x = d3.scale.ordinal()
			    .rangeRoundBands([0, (w-margin.left-margin.right)], .1);

			var y = d3.scale.linear()
			    .range([(h-margin.top-margin.bottom), 0]);

			x.domain(letter);
  			y.domain([0, d3.max(frequency)]);

			var xAxis = d3.svg.axis()
			    .scale(x)
			    .orient("bottom");

			var yAxis = d3.svg.axis()
			    .scale(y)
			    .orient("left")
			    .tickFormat(formatPercent);

			

  			svg.append("g")
		      .attr("class", "x axis")
		      .attr("transform", "translate("+margin.left+"," + (h-margin.bottom-margin.top) + ")")
		      .call(xAxis);

			svg.append("g")
			    .attr("class", "y axis")
			    .attr("transform", "translate ("+(margin.left+5)+",0)")
			    .call(yAxis)
			    .append("text")
			    .attr("transform", "rotate(-90)")
			    .attr("y", 6)
		        .attr("dy", ".71em")
		        .style("text-anchor", "end")
			    .text("Frequency");

			

            svg.selectAll("rect").data(dataset).enter().append("rect")
            .attr("transform", "translate("+(margin.left+(margin.right/2))+","+(-margin.bottom-margin.top)+")")
            .attr("x", function(d, i) {
	            return i*((w-margin.left-margin.right)/dataset.length); //Ancho de barras de 20 mas 1 espacio
	        })
            .attr("y", function(d) {
				return (h-d*4);
            })
            .attr("width", (w-margin.left-margin.right)/dataset.length-barPadding)
            .attr("height", function(d) {
            	return d*4;
            })
            .attr("fill", function(d) {
            	return "rgb(240, 137, "+(d*10)+")";
            });

            svg.selectAll("text").data(dataset).enter().append("text").text(function(d) {return d})
            .attr("x", function(d, i) {
	            return i*(w/dataset.length)+5; //Ancho de barras de 20 mas 1 espacio
	        })
            .attr("y", function(d) {
				return h-(d*4)+15;
            })
            .attr("font-family", "monoscope").attr("font-size", "11px").attr("fill", "white")
            .attr("text-anchor", "middle")
            .attr("x", function(d, i) {
	        	return i*(w/dataset.length)+(w/dataset.length-barPadding)/2
	        });
	        
		</script>
	</body>
</html>